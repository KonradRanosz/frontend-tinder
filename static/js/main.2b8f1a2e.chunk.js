(this["webpackJsonpfrontend-tinder"]=this["webpackJsonpfrontend-tinder"]||[]).push([[0],{29:function(e,t,n){},3:function(e,t,n){e.exports={logo:"styles_logo__3ot-y",titleHeader:"styles_titleHeader__2ZP3Y",image:"styles_image__3lm_T",card:"styles_card__1-dAI",flex:"styles_flex__397fI",button:"styles_button__jo6qc",textUnder:"styles_textUnder__Lmgbx",premium:"styles_premium__2WZ5I",swipeParent:"styles_swipeParent__1MWHI",accept:"styles_accept__2WWU3",reject:"styles_reject__1gTrP",active:"styles_active__kpc1H",spin:"styles_spin__2Kh-a",spin2:"styles_spin2__o-FHP"}},50:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(23),s=n.n(a),i=(n(29),n(3)),o=n.n(i),u=n(8),l=n(1),d=function(e){var t=e.icon,n=e.text,r=e.onClickHandler;return Object(l.jsxs)("button",{onClick:r,className:o.a.button,"data-testid":"button",children:[t,Object(l.jsxs)("span",{className:o.a.textUnder,children:[" ",n," "]})]})},j=n(4),p=n.n(j),b=n(6),m=n(7),f=n(9),O=n.n(f);O.a.defaults.baseURL="https://movietinder.nemezisff.ct8.pl";var x=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/recommendations");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("error"),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.put("/recommendations/".concat(t,"/accept"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.put("/recommendations/".concat(t,"/reject"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_=c.a.createContext({movie:null,theEnd:!1,loading:!0,rejectHandlers:function(){},acceptHandlers:function(){},likeHandler:function(){},premiumHandler:function(){}}),g=function(e){var t=Object(r.useState)([]),n=Object(m.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(null),i=Object(m.a)(s,2),o=i[0],u=i[1],d=Object(r.useState)(0),j=Object(m.a)(d,2),f=j[0],O=j[1],g=Object(r.useState)(!1),y=Object(m.a)(g,2),H=y[0],k=y[1],w=Object(r.useState)(!0),C=Object(m.a)(w,2),N=C[0],E=C[1],S=Object(r.useCallback)(Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,x();case 3:t=e.sent,a(t),u(t[f]),E(!1);case 7:case"end":return e.stop()}}),e)}))),[f]);Object(r.useEffect)((function(){S()}),[S]);var P=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(t),c.length-1>f?(u(c[f+1]),O(f+1)):(O(0),u(null),k(!0));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t),c.length-1>f?(u(c[f+1]),O(f+1)):(O(0),u(null),k(!0));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("like \u2665\ufe0f",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(_.Provider,{value:{movie:o,theEnd:H,loading:N,rejectHandlers:P,acceptHandlers:T,likeHandler:z,premiumHandler:function(){k(!1),S()}},children:e.children})},y=function(e){var t=Object(r.useContext)(_).movie;return Object(l.jsxs)("div",{className:o.a.titleHeader,"data-testid":"titleHeaderDiv",children:[Object(l.jsx)("h3",{children:null===t||void 0===t?void 0:t.title}),Object(l.jsx)("p",{children:null===t||void 0===t?void 0:t.summary}),Object(l.jsxs)("p",{children:[Object(l.jsx)(u.e,{}),Object(l.jsxs)("small",{children:[Object(l.jsxs)("b",{children:[" ",null===t||void 0===t?void 0:t.rating]})," "]})]})]})},H=function(e){var t=e.onClickHandler;return Object(l.jsxs)("div",{className:o.a.premium,"data-testid":"premiumDiv",children:[Object(l.jsx)(u.c,{size:"3em"}),Object(l.jsx)("h2",{children:"Become a premium member!"}),Object(l.jsx)("p",{children:"only $99"}),Object(l.jsx)("button",{onClick:t,children:"Buy premium! "})]})},k=n(14),w=n(24),C=function(e){var t=e.src,n=e.title,c=Object(r.useContext)(_),a=c.movie,s=c.rejectHandlers,i=c.acceptHandlers,u=Object(r.useState)(!1),d=Object(m.a)(u,2),j=d[0],p=d[1],b=Object(r.useState)(!1),f=Object(m.a)(b,2),O=f[0],x=f[1],v=Object(w.useSwipeable)({onSwipedLeft:function(){x(!0),setTimeout((function(){return a&&s(a.id)}),200)},onSwipedRight:function(){p(!0),setTimeout((function(){return a&&i(a.id)}),200)},preventDefaultTouchmoveEvent:!0,trackMouse:!0,delta:60});return Object(l.jsxs)("div",Object(k.a)(Object(k.a)({},v),{},{className:"\n\t\t\t\t".concat(o.a.swipeParent," \n\t\t\t\t").concat(O?o.a.reject:null," \n\t\t\t\t").concat(j?o.a.accept:null,"\n\t\t\t"),"data-testid":"img",children:[Object(l.jsx)("div",{}),Object(l.jsx)("img",{src:t,alt:n,className:o.a.image})]}))},N=n(13),E=function(){var e=Object(r.useContext)(_),t=e.movie,n=e.theEnd,c=e.loading,a=e.rejectHandlers,s=e.acceptHandlers,i=e.premiumHandler,j=e.likeHandler;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h4",{className:o.a.logo,children:"Movie Tinder App"}),c&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:o.a.spin,"data-testid":"spinner",children:Object(l.jsx)(N.a,{size:"4em"})}),Object(l.jsx)("span",{className:o.a.spin,children:Object(l.jsx)(N.a,{size:"4em"})})]}),t&&!n&&Object(l.jsxs)("div",{className:o.a.card,children:[Object(l.jsx)(y,{title:t.title,summary:t.summary,rating:t.rating}),Object(l.jsx)(C,{title:t.title,src:t.imageURL}),Object(l.jsxs)("div",{className:o.a.flex,children:[Object(l.jsx)(d,{onClickHandler:function(){return a(t.id)},icon:Object(l.jsx)(u.b,{size:"3em",color:"F87171"}),text:"REJECT"}),Object(l.jsx)(d,{onClickHandler:function(){return j(t.id)},icon:Object(l.jsx)(u.d,{size:"2em",color:"A78BFA"}),text:"LIKE"}),Object(l.jsx)(d,{onClickHandler:function(){return s(t.id)},icon:Object(l.jsx)(u.a,{size:"3em",color:"34D399"}),text:"ACCEPT"})]})]},t.id),n&&Object(l.jsx)(H,{onClickHandler:i})]})};s.a.render(Object(l.jsx)(g,{children:Object(l.jsx)(E,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.2b8f1a2e.chunk.js.map